<ng-template #buttonContent>
  @if (loading) {
    <mat-spinner diameter="20"></mat-spinner>
  } @else if (label) {
    {{ label }}
  } @else {
    <ng-content></ng-content>
  }
</ng-template>

@switch (variant) {
  @case ('raised') {
    <button mat-raised-button [type]="type" [color]="color" [disabled]="disabled || loading">
      <ng-container *ngTemplateOutlet="buttonContent"></ng-container>
    </button>
  }
  @case ('flat') {
    <button mat-flat-button [type]="type" [color]="color" [disabled]="disabled || loading">
      <ng-container *ngTemplateOutlet="buttonContent"></ng-container>
    </button>
  }
  @case ('stroked') {
    <button mat-stroked-button [type]="type" [color]="color" [disabled]="disabled || loading">
      <ng-container *ngTemplateOutlet="buttonContent"></ng-container>
    </button>
  }
  @case ('icon') {
    <button mat-icon-button [type]="type" [color]="color" [disabled]="disabled || loading">
      <ng-container *ngTemplateOutlet="buttonContent"></ng-container>
    </button>
  }
  @default {
    <button mat-raised-button [type]="type" [color]="color" [disabled]="disabled || loading">
      <ng-container *ngTemplateOutlet="buttonContent"></ng-container>
    </button>
  }
}
